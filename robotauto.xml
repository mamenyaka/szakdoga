<?xml version="1.0" encoding="UTF-8"?>
<article xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.1" xml:lang="hu">
    <info>
        <title>Robotautó Világbajnokság</title>
        <author>
            <personname>
                <honorific>Dr.</honorific>
                <surname>Bátfai</surname>
                <firstname>Norbert</firstname>
            </personname>
            <affiliation>
                <shortaffil>E. adjunktus, DEIK.</shortaffil>
                <jobtitle>Egyetemi adjunktus</jobtitle>
                <orgname>Debreceni Egyetem, Informatikai Kar</orgname>
                <orgdiv>Információtechnológiai Tanszék</orgdiv>
                <address>
                    <email>batfai.norbert@inf.unideb.hu</email>
                    <email>nbatfai@gmail.com</email>
                </address>
            </affiliation>
            <address>
                <street>Kassai út 26.</street>
                <city>Debrecen</city>
                <postcode>4028</postcode>
                <country>Magyarország</country>
                <email>batfai.norbert@inf.unideb.hu</email>
                <otheraddr>
                    <link xlink:href="http://www.inf.unideb.hu/~nbatfai">http://www.inf.unideb.hu/~nbatfai</link>
                </otheraddr>
            </address>
        </author>
        <author>
            <personname>
                <surname>Mamenyák</surname>
                <firstname>András</firstname>
            </personname>
            <affiliation>
                <jobtitle>mérnökinformatikus</jobtitle>
                <orgname>Debreceni Egyetem, Informatikai Kar</orgname>
                <orgdiv>Információtechnológiai Tanszék</orgdiv>
                <address>
                    <email>mamenyaka@gmail.com</email>
                </address>
            </affiliation>
        </author>
        <edition>Robotautó Világbajnokság, UDPROG közösség dokumentációs feljegyzés, v. 0.0.2</edition>
        <pubdate>2014</pubdate>
        <copyright>
            <year>2014</year>
            <holder>Dr. Bátfai Norbert</holder>
            <holder>Mamenyák András</holder>
        </copyright>
        <legalnotice>
            <para>UDProg, Robotautó Világbajnokság
            </para>
            <para>
                Copyright (C) 2014, Norbert Bátfai
            </para>
            <para>
                This program is free software: you can redistribute it and/or modify
                it under the terms of the GNU General Public License as published by
                the Free Software Foundation, either version 3 of the License, or
                (at your option) any later version.
            </para>
            <para>
                This program is distributed in the hope that it will be useful,
                but WITHOUT ANY WARRANTY; without even the implied warranty of
                MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
                GNU General Public License for more details.
            </para>
            <para>
                You should have received a copy of the GNU General Public License
                along with this program.  If not, see
                <link xlink:href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</link>.
            </para>
            <para>
                Ez a program szabad szoftver; terjeszthető illetve módosítható a
                Free Software Foundation által kiadott GNU General Public License
                dokumentumában leírtak; akár a licenc 3-as, akár (tetszőleges) későbbi
                változata szerint.
            </para>
            <para>
                Ez a program abban a reményben kerül közreadásra, hogy hasznos lesz,
                de minden egyéb GARANCIA NÉLKÜL, az ELADHATÓSÁGRA vagy VALAMELY CÉLRA
                VALÓ ALKALMAZHATÓSÁGRA való származtatott garanciát is beleértve.
                További részleteket a GNU General Public License tartalmaz.
            </para>
            <para>
                A felhasználónak a programmal együtt meg kell kapnia a GNU General
                Public License egy példányát; ha mégsem kapta meg, akkor
                tekintse meg a
                <link xlink:href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</link>
                oldalon.
            </para>
            <para>
                <link xlink:href="http://gnu.hu/gplv3.html">http://gnu.hu/gplv3.html</link>
            </para>
        </legalnotice>
        <revhistory>
            <revision>
                <revnumber>0.0.1</revnumber>
                <date>2014-11-24</date>
                <revremark>Iniciális dokumentum az aktuális és jövőbeli diplomamunkások támogatására.
                    A szereplő tételekből kiindulva a jelöltek könnyebben készíthetik el a saját munkájukra hangolva a
                    saját tartalomjegyzéküket.</revremark>
            </revision>
            <revision>
                <revnumber>0.0.2</revnumber>
                <date>2014-11-25</date>
                <revremark>Térképmegoldások összehasonlítása fejezet</revremark>
            </revision>
            <revision>
                <revnumber>0.0.3</revnumber>
                <date>2014-11-26</date>
                <revremark>OSM XML leírás</revremark>
            </revision>
            <revision>
                <revnumber>0.0.4</revnumber>
                <date>2014-11-26</date>
                <revremark>OSM XML példa</revremark>
            </revision>
            <revision>
                <revnumber>0.0.5</revnumber>
                <date>2014-11-26</date>
                <revremark>libosmium bemutatása, telepítés leírása</revremark>
            </revision>
        </revhistory>
    </info>
    <section>
        <title>Bevezetés</title>
        <para>
            Intuitív és szakmai bevezetés.
            <link xlink:href=""/>
        </para>
        <section>
            <title>Szakirodalmi háttér</title>
            <para>
                A kapcsolódó főbb tudományos publikációk hivatkozása és 1-2 mondatos összefoglalása.
            </para>
        </section>
        <section>
            <title>Megelőző és kapcsolódó munkák</title>
            <para>
                Jellegében az előző, de inkább szükebb értelemben a jelölt, illetva tágabban értelmezve az UDPROG
                közösség eredményeit kiemelve.
            </para>
        </section>
        <section>
            <title>A dolgozat szervezése és szerkezete</title>
            <para>
                Hol elérhető, például repóban? Miben készült?
                A szereplő konkrét fejezetek milyen sorrendben milyen tartalomal szerepelnek (1-2 mondat fejezetenként).
            </para>
        </section>
    </section>
    <section>
        <title>Tárgyalás</title>
        <section>
            <title>A fejlesztés háttere</title>
            <section>
                <title>Térképmegoldások összehasonlítása</title>
                <section>
                    <title>Google Maps</title>
                    <para>
                        Napjaink egyik legelterjedtebb térképmegoldása a Google Maps, amit a Google cég fejleszt.
                        A világ összes országának kiváló minőségű térképe ingyenesen elérhető a weben
                        (<link xlink:href="https://www.google.com/maps">https://www.google.com/maps</link>) vagy okostelefonon.
                        2013-ban a világ leggyakrabban használt okostelefon alkalmazása a Google Maps volt a
                        <link xlink:href="http://blog.globalwebindex.net/wp-content/uploads/2013/08/The-app-World-big.png">GlobalWebIndex</link> alapján.
                    </para>
                    <para>
                        A Google Maps számos API-t sorakoztat fel
                        (<link xlink:href="https://developers.google.com/maps/documentation">https://developers.google.com/maps/documentation</link>),
                        amik lehetővé teszik, hogy beágyazzuk a Google Maps térképeit, funkcióit saját weblapunkba vagy alkalmazásunkba.
                        Ezek az API-k a következők:
                        <itemizedlist>
                            <listitem>
                                <para>JavaScript API v3</para>
                            </listitem>
                            <listitem>
                                <para>Google Maps SDK for iOS</para>
                            </listitem>
                            <listitem>
                                <para>Web Services</para>
                            </listitem>
                            <listitem>
                                <para>Maps Image APIs</para>
                            </listitem>
                            <listitem>
                                <para>Maps for Work</para>
                            </listitem>
                            <listitem>
                                <para>Maps Android API</para>
                            </listitem>
                            <listitem>
                                <para>Places API</para>
                            </listitem>
                            <listitem>
                                <para>Google Earth API</para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        Licenc szempontjából sok megszorítás van a Google Maps API ingyenes használatában.
                        Többek közt kötelező, hogy a szolgáltatásunk ingyenesen és nyilvánosan elérhető legyen.
                        Továbbá alkalmazásunk nem haladhatja meg a 2500 kérés/nap határt sem
                        (részletesebben lásd: <link xlink:href="https://developers.google.com/maps/licensing">https://developers.google.com/maps/licensing</link>).
                        A licenc megtiltja, hogy lemásoljuk, módosítsuk vagy exportáljuk a Google Maps API által szolgáltatott adatokat
                        (lásd a 10.1.3-as részt, "Restrictions against Copying or Data Export": <link xlink:href="https://developers.google.com/maps/terms">https://developers.google.com/maps/terms</link>).
                    </para>
                    <para>
                        A licenc szigorúsága miatt elvetettük a Google Maps használatát a Robotautó emulátorban.
                        Lehetséges felhasználási terület: Androidos megjelenítő kliensekben, ahol a Google Maps térképre rajzoljuk ki az eredményt.
                    </para>
                </section>
                <section>
                    <title>Nokia HERE</title>
                    <para>
                        A HERE (régebbi nevén Ovi Maps és Nokia Maps) a Nokia cég által fejlesztett termékcsomag, ami magába foglalja közel 200 ország térképét.
                        A szolgáltatás elérhető a weben (<link xlink:href="http://here.com">http://here.com</link>) vagy okostelefonokról.
                    </para>
                    <para>
                        A HERE API-k a következők (<link xlink:href="https://developer.here.com">https://developer.here.com</link>):
                        <itemizedlist>
                            <listitem>
                                <para>JavaScript API-k:  Maps API for JavaScript 3.x, Maps API for JavaScript 2.x, Maps API for JavaScript Enterprise 2.x</para>
                            </listitem>
                            <listitem>
                                <para>REST API-k: Map Tile API, Map Image API, Venue Maps API, Routing API, Enterprise Routing API, Matrix Routing API, Geocoder API, Batch Geocoder API, Custom Location API, Places API, Traffic API</para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        A licenc megtiltja, hogy "a Tartalmat nem másolja, nem adja át, nem értékesíti, nem értékesíti újból, nem adja kölcsön, bérbe, nem kínálja fel, nem közvetíti, küldi el, nem terjeszti, nem ruházza át, a nyilvánossággal nem közli, nem sokszorosítja, módosítja, jeleníti meg, nem adja elő, kereskedelmi célokra nem használja, illetőleg nem teszi elérhetővé"
                        (lásd a 6.-os részt, "A Tartalom": <link xlink:href="http://here.com/terms/service-terms/hu">http://here.com/terms/service-terms/hu</link>).
                    </para>
                    <para>
                        A licenc megszorítása miatt elvetettük a HERE használatát a Robotautó emulátorban.
                        Lehetséges felhasználási terület: Webes, Androidos, Windows Phone-os megjelenítő.
                    </para>
                </section>
                <section>
                    <title>Bing Maps</title>
                    <para>
                        A Bing Maps platform a Microsoft cég által fejlesztett Bing kereső szolgáltatás része, régebbi nevén Microsoft Virtual Earth.
                        A szolgáltatás elérhető a weben (<link xlink:href="http://www.bing.com/maps">http://www.bing.com/maps</link>) és Windows Phone platformon.
                    </para>
                    <para>
                        A Bing Maps API-k a következők (<link xlink:href="http://www.microsoft.com/maps/choose-your-bing-maps-API.aspx">http://www.microsoft.com/maps/choose-your-bing-maps-API.aspx</link>):
                        <itemizedlist>
                            <listitem>
                                <para>Windows Store alkalmazásokhoz: JavaScript API, .NET API</para>
                            </listitem>
                            <listitem>
                                <para>Bing Maps AJAX Control 7.0 (Microsoft.Maps API-k): AdvancedShapes API, Directions API, Search API, Traffic API, VenueMaps API</para>
                            </listitem>
                            <listitem>
                                <para>REST API-k: Locations API, Elevations API, Imagery API, Routes API, Traffic API</para>
                            </listitem>
                            <listitem>
                                <para>Spatial Data Services API-k: Geocode Dataflow API, Data Source Management API, Query API, Geodata API</para>
                            </listitem>
                            <listitem>
                                <para>Windows Presentation Foundation Control (WPF) API</para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        A licencben előírt megszorítások tiltják, hogy lemásoljuk, tároljuk, arhiváljuk vagy a Tartalm alapján adatbázist hozzunk létre
                        (lásd a 3.2-es részt, "General Restrictions" <link xlink:href="http://www.microsoft.com/maps/product/terms.html">http://www.microsoft.com/maps/product/terms.html</link>).
                    </para>
                    <para>
                        A licenc megszorítása miatt elvetettük a Bing Maps használatát a Robotautó emulátorban.
                        Lehetséges felhasználási terület: Webes, Windows-os megjelenítő.
                    </para>
                </section>
                <section>
                    <title>OpenStreetMap</title>
                    <para>
                        Az OpenStreetMap (<link xlink:href="http://www.openstreetmap.org">http://www.openstreetmap.org</link>) egy olyan közösségi projekt,
                        aminek célja egy nyíltan használható, módosítható térkép készítése az egész világról.
                        A projektet a Wikipedia sikeressége ihlette, ami bebizonyította, hogy közösségi adatgyűjtéssel nagy mennyiségű és jó minőségű adatokat lehet előállítani.
                        Az egyetlen hátránya az, hogy előforduló hibákat nehezen lehet javítani,
                        de a közösség nagy része jószándékú, így az esetleges pontatlanságokat automatikusan javítják.
                    </para>
                    <para>
                        Kereskedelmi térképek adataiban található számos csapda, amivel el lehet kapni azokat, akik ezt másolják.
                        Erre példa a nem létező, hamis utcák, szándékosan hiányzó utcák, nem létező iskolák, stb.
                        Emiatt a közreműködők légi fotók, GPS eszközök és egyéb ingyenes térképek
                        (mint például nemzeti térképészeti ügynökségek nyílt térképei)
                        segítségével járulnak hozzá, ellenőrzik és tartják karban az OSM adatbázist.
                        A legújabb adatok szerint az OpenStreetMap regisztrált felhasználóinak száma közel 2 millió
                        (forrás: <link xlink:href="http://www.openstreetmap.org/stats/data_stats.html">http://www.openstreetmap.org/stats/data_stats.html</link>).
                    </para>
                    <para>
                        2010-ben a Bing bejelentette, hogy a Bing Maps légi felvételeit szabadon felhasználhatja az OpenStreetMap közösség arra a célra,
                        hogy a képek alapján nyomkövethetik az utakat, épületeket, stb., gyarapítva ezzel az OSM adatbázist
                        (forrás: <link xlink:href="https://blog.openstreetmap.org/wp-content/uploads/2010/11/4540180-Bing-Maps-Imagery-Editor-API-License-FINAL.pdf">Microsoft Bing Maps imagerty service editor application API's terms of use</link>).
                    </para>
                    <para>
                        Az OpenStreetMap-nak egyetlen saját API-ja van, a REST API alapú OSM Editing API,
                        ami OSM adatbazis nyers geoadatainak letöltésére és feltöltésére szolgál.
                    </para>
                    <para>
                        Az OpenStreetMap nyílt adatokból áll, aminek licence az Open Data Commons Open Database License (ODbL).
                        Ez a licenc lehetővé teszi, hogy szabadon lemásoljuk, terjesszük, módosítsuk az adatokat.
                        Egyetlen feltétele, hogy ha módosítjuk az adatokat, vagy ha az adatokra épülő szolgáltatást készítünk, akkor csak ugyanazzal a licenc-el tehetjük.
                    </para>
                    <para>
                        A megfelelő minőségű adatoknak és a kedvező licencnek köszönhetően támogatjuk az OpenStreetMap használatát a Robotautó emulátorban.
                    </para>
                </section>
                <section>
                    <title>Összegzés</title>
                    <para>
                        A Robotautó világbajnokság emulátora az OpenStreetMap térképeit fogja használni.
                    </para>
                    <para>
                        Kérdés: De miért nem egyszerűen a Google Maps-t használjuk, mint mindenki más?
                    </para>
                    <para>
                        Válasz: Azok az adatok szerzői jog által védve vannak és több szervezet tulajdonában állnak, mint például a NAVTEQ vagy a Tele Atlas.
                        A Google csak licenceli az adatokat. Ha használni akarnánk, fizetnünk kéne értük.
                        Ezzel ellentétben az OpenStreetMap teljesen ingyenes és nyílt licencű.
                    </para>
                </section>
            </section>
            <section>
                <title>OpenStreetMap XML szerkezete</title>
                <para>
                    Az OpenStreetMap nyers térkép adatait XML formátumban tudjuk letölteni (exportánli) a projekt honlapjáról.
                    Az így kapott állomány kiterjesztése egy teljesen valid XML dokumentum, melynek kiterjesztése ".osm".
                    Ha a teljes bolygóra vonatkozó adatokat le akarjuk tölteni, azt is megtehetjük az alábbi linken:
                    <link xlink:href="http://planet.openstreetmap.org">http://planet.openstreetmap.org</link>.
                    Jelenlegi mérete a tömörített planet állománynak 38 GB.
                </para>
                <para>
                    Legtöbb esetben csak egy város térképére van szükségünk, amit az alábbi módon exportálhatunk:
                    <figure xml:id="osmexport">
                        <title>Debrecen város térképének exportálása</title>
                        <mediaobject>
                            <imageobject>
                                <imagedata fileref="figures/osmexport.png"/>
                            </imageobject>
                        </mediaobject>
                    </figure>
                </para>
                <para>
                    Az XML állomány szerkezetileg három fő adat alkotóelemből (adat primitívekből, objektumokból) és azok címkéiből épül fel:
                    <itemizedlist>
                        <listitem>
                            <para>nodes (csomópontok)</para>
                            <para>
                                A csomópont meghatároz egy adott pontot a Föld felszínén, annak földrajzi hosszúságát és szélességét.
                                Az OpenStreetMap a WGS84 koordináta rendszert használja.
                                Példa: buszmegálló, pad, jelzőlámpa
                            </para>
                        </listitem>
                        <listitem>
                            <para>ways (utak)</para>
                            <para>Az út a csomópontok egy rendezett listája.
                                Példa: utak, folyók, területek határvonalai
                            </para>
                        </listitem>
                        <listitem>
                            <para>relations (kapcsolatok)</para>
                            <para>
                                A kapcsolat olyan adatszerkezet, ami több member (tag) kapcsolatát írja le, azoknak egy rendezett listája.
                                A tagok lehetnek utak, csomópontok vagy akár további kapcsolatok,
                                és tartalmazzák a "member type" (típus) és a "role" (szerep) címkéket.
                                Általában a "type" (típus) címke határozza meg a kapcsolat értelmét.
                                Példa: buszjárat, ami csomópontok listájából (megállókból) és utakból áll
                            </para>
                        </listitem>
                        <listitem>
                            <para>tags (címkék)</para>
                            <para>
                                A címkék jelentést adhatnak az egyes adatelemeknek, de használatuk opcionális.
                                Két részből állnak: kulcs és érték.
                                Példa: "highway=pedestrian", ami a gyalogos utat jelent
                            </para>
                        </listitem>
                        <listitem>
                            <para>közös attribútumok</para>
                            <para>
                                Minden csomópontnak, útnak és kapcsolatnak a következő attribútumai vannak az adatbázisban:
                                <itemizedlist>
                                    <listitem>
                                        <para>
                                            id
                                        </para>
                                        <para>
                                            Értéke egy szám, ami egyértelműen beazonosítja az adott adatelemet.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            visible
                                        </para>
                                        <para>
                                            Lehet igaz (true) vagy hamis (false).
                                            Ha a visible értéke hamis, akkor az objektum törölve lett az adatbázisból.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            version
                                        </para>
                                        <para>
                                            Kezdetben 1, minden módosításnál egyel nő az értéke.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            changeset
                                        </para>
                                        <para>
                                            Értéke egy szám, ami meghatározza a módosítások egy halmazát, amiben az adott objektum létrejött vagy módosult.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            timestamp
                                        </para>
                                        <para>
                                            Időbélyeg, a legutolsó módosítás idelyét tartalmazza.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            user
                                        </para>
                                        <para>
                                            Értéke az a regisztrált felhasználónév, aki létrehozta vagy utoljára módosította az adott objektumot.
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            uid
                                        </para>
                                        <para>
                                            Felhasználó azonosító. A felhasználónév változhat, de az id nem
                                        </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                            changeset
                                        </para>
                                        <para>
                                            Értéke egy szám, ami meghatározza a módosítások egy halmazát, amiben az adott objektum létrejött vagy módosult
                                        </para>
                                    </listitem>
                                </itemizedlist>
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    Bővebb információk az OpenStreetMap wiki oldalán olvashatóak:
                    <link xlink:href="http://wiki.openstreetmap.org/wiki/Main_Page">http://wiki.openstreetmap.org/wiki/Main_Page</link>
                </para>
            </section>
            <section>
                <title>Példa XML kódrészletre</title>
                <para>
                    A következő XML kódcsipet Debrecen városának térképéből lett kivágva.
                    Véleményem szerint meglepő, hogy milyen részletességgel van jelen ennyi adat kis városunkról.
                    <programlisting language="xml">
<![CDATA[
<?xml version="1.0" encoding="UTF-8"?>
<osm version="0.6" generator="CGImap 0.3.3 (12932 thorn-01.openstreetmap.org)" copyright="OpenStreetMap and contributors" attribution="http://www.openstreetmap.org/copyright" license="http://opendatacommons.org/licenses/odbl/1-0/">
 <bounds minlat="47.4811000" minlon="21.5076000" maxlat="47.5845000" maxlon="21.7771000"/>
 <node id="26754899" visible="true" version="10" changeset="22677330" timestamp="2014-06-01T17:02:36Z" user="Kolesár" uid="170666" lat="47.5525471" lon="21.6205428"/>
 <node id="26754891" visible="true" version="4" changeset="9718270" timestamp="2011-11-02T00:21:45Z" user="BáthoryPéter" uid="408450" lat="47.5612237" lon="21.6230840"/>
...
 <node id="196235228" visible="true" version="10" changeset="25408912" timestamp="2014-09-13T11:03:24Z" user="nagy_balint" uid="1971976" lat="47.6997683" lon="21.4372610">
  <tag k="highway" v="services"/>
  <tag k="name" v="Böszörményi pihenőhely"/>
  <tag k="ref" v="19"/>
 </node>
...
 <node id="2460128494" visible="true" version="2" changeset="22853651" timestamp="2014-06-10T16:22:42Z" user="neosystem100" uid="2116499" lat="47.5343657" lon="21.6255522">
  <tag k="addr:city" v="Debrecen"/>
  <tag k="addr:housenumber" v="4"/>
  <tag k="addr:postcode" v="4026"/>
  <tag k="addr:street" v="Péterfia utca"/>
  <tag k="amenity" v="school"/>
  <tag k="name" v="Computer School Debrecen"/>
  <tag k="phone" v="0652/533-328"/>
 </node>
...
 <node id="2910768733" visible="true" version="1" changeset="22868114" timestamp="2014-06-11T10:03:45Z" user="DonTomika" uid="1336266" lat="47.5294086" lon="21.6276621">
  <tag k="addr:city" v="Debrecen"/>
  <tag k="addr:country" v="HU"/>
  <tag k="addr:housenumber" v="8"/>
  <tag k="addr:postcode" v="4024"/>
  <tag k="addr:street" v="Kossuth utca"/>
  <tag k="email" v="info.debicafe@gmail.com"/>
  <tag k="fax" v="+36 52 998 077"/>
  <tag k="internet_access" v="terminal"/>
  <tag k="internet_access:fee" v="yes"/>
  <tag k="name" v="Internet Cafe"/>
  <tag k="opening_hours" v="Mo-Fr 07:00-24:00, Sa-Su 09:00-24:00"/>
  <tag k="operator" v="Net 2000 Kft"/>
  <tag k="phone" v="+36 70 942 01 84"/>
  <tag k="service:computer" v="yes"/>
  <tag k="service:copy" v="yes"/>
  <tag k="service:print" v="yes"/>
  <tag k="service:scan" v="yes"/>
  <tag k="shop" v="copyshop"/>
  <tag k="website" v="http://www.dcafe.hu/"/>
 </node>
...
 <node id="3088739774" visible="true" version="2" changeset="25673049" timestamp="2014-09-25T20:18:44Z" user="ImreSamu" uid="996303" lat="47.5497190" lon="21.6161230">
  <tag k="addr:city" v="Debrecen"/>
  <tag k="addr:housenumber" v="25"/>
  <tag k="addr:street" v="Bolyai utca"/>
  <tag k="amenity" v="place_of_worship"/>
  <tag k="denomination" v="protestant"/>
  <tag k="name" v="Nagyerdei Reformatus templom"/>
  <tag k="religion" v="christian"/>
  <tag k="website" v="www.refnagyerdo.hu"/>
  <tag k="wheelchair" v="yes"/>
 </node>
 <way id="4383939" visible="true" version="4" changeset="756851" timestamp="2008-11-16T21:59:37Z" user="madar" uid="17542">
  <nd ref="26754882"/>
  <nd ref="26754884"/>
  <nd ref="247995181"/>
  <tag k="created_by" v="Potlatch 0.10f"/>
  <tag k="highway" v="residential"/>
  <tag k="name" v="Martinovics utca"/>
 </way>
 <way id="4383938" visible="true" version="2" changeset="3678050" timestamp="2010-01-21T20:36:49Z" user="CarstenG" uid="72700">
  <nd ref="26754874"/>
  <nd ref="26754875"/>
  <nd ref="26754877"/>
  <nd ref="26754878"/>
  <nd ref="26754880"/>
  <nd ref="26754881"/>
  <nd ref="26754882"/>
  <tag k="highway" v="residential"/>
  <tag k="name" v="Oláh Gábor utca"/>
 </way>
...
 <way id="304275917" visible="true" version="1" changeset="25566629" timestamp="2014-09-20T19:41:16Z" user="ImreSamu" uid="996303">
  <nd ref="3088072849"/>
  <nd ref="1971681657"/>
  <nd ref="1971681646"/>
  ...
  <nd ref="3088072896"/>
  <nd ref="3088072897"/>
  <nd ref="3088072849"/>
  <tag k="building" v="commercial"/>
 </way>
 <relation id="23104" visible="true" version="8" changeset="22068566" timestamp="2014-05-01T17:22:38Z" user="akosbarta" uid="1731170">
  <member type="way" ref="202670924" role=""/>
  <member type="way" ref="185521439" role=""/>
  <member type="way" ref="25702600" role=""/>
  <member type="way" ref="25702638" role=""/>
  <member type="way" ref="25702640" role=""/>
  <member type="way" ref="27743398" role=""/>
  <member type="way" ref="278615091" role=""/>
  <tag k="ref" v="354"/>
  <tag k="route" v="road"/>
  <tag k="type" v="route"/>
 </relation>
...
 <relation id="1599036" visible="true" version="3" changeset="14625237" timestamp="2013-01-12T17:58:42Z" user="Domcsi" uid="57628">
  <member type="way" ref="57881620" role="outer"/>
  <member type="way" ref="57878271" role="outer"/>
  <member type="way" ref="57875799" role="outer"/>
  <member type="way" ref="57877593" role="outer"/>
  <member type="way" ref="57873858" role="outer"/>
  <member type="way" ref="57877282" role="outer"/>
  <member type="way" ref="57880871" role="outer"/>
  <member type="way" ref="57875464" role="outer"/>
  <member type="way" ref="57877408" role="outer"/>
  <member type="way" ref="57877602" role="outer"/>
  <member type="way" ref="57875930" role="outer"/>
  <member type="way" ref="57879667" role="outer"/>
  <member type="way" ref="57873849" role="outer"/>
  <member type="way" ref="57881486" role="outer"/>
  <member type="way" ref="57874107" role="outer"/>
  <member type="way" ref="57875673" role="outer"/>
  <member type="way" ref="57879417" role="outer"/>
  <member type="way" ref="57878554" role="outer"/>
  <member type="way" ref="57882140" role="outer"/>
  <member type="node" ref="26757724" role="admin_centre"/>
  <tag k="admin_level" v="7"/>
  <tag k="boundary" v="administrative"/>
  <tag k="name" v="Debreceni kistérség"/>
  <tag k="type" v="boundary"/>
 </relation>
...
 <relation id="1855523" visible="true" version="3" changeset="15133136" timestamp="2013-02-23T10:22:32Z" user="flaktack" uid="55843">
  <member type="way" ref="137727230" role="from"/>
  <member type="node" ref="1510346310" role="via"/>
  <member type="way" ref="137727228" role="to"/>
  <tag k="restriction" v="only_right_turn"/>
  <tag k="type" v="restriction"/>
 </relation>
...
 <relation id="2773522" visible="true" version="3" changeset="15985713" timestamp="2013-05-05T15:23:27Z" user="flaktack" uid="55843">
  <member type="node" ref="1452131578" role="stop"/>
  <member type="node" ref="2162387215" role="stop"/>
  <member type="node" ref="2162387571" role="stop"/>
  <member type="node" ref="2162387601" role="stop"/>
  <member type="node" ref="2162387254" role="stop"/>
  <member type="node" ref="1970902820" role="stop"/>
  <member type="node" ref="1970902805" role="stop"/>
  <member type="node" ref="1970902808" role="stop"/>
  <member type="node" ref="1970902813" role="stop"/>
  <member type="node" ref="1970902804" role="stop"/>
  <member type="node" ref="1970881207" role="stop"/>
  <member type="way" ref="206375983" role=""/>
  <member type="way" ref="24573990" role=""/>
  <member type="way" ref="27826168" role=""/>
  <member type="way" ref="206376116" role=""/>
  <member type="way" ref="27826167" role=""/>
  <member type="way" ref="120180403" role=""/>
  <member type="way" ref="206375970" role=""/>
  <member type="way" ref="24427384" role=""/>
  <member type="way" ref="206375974" role=""/>
  <member type="way" ref="206804834" role=""/>
  <member type="way" ref="206804829" role=""/>
  <member type="way" ref="206804840" role=""/>
  <tag k="from" v="Nagyállomás"/>
  <tag k="ref" v="18"/>
  <tag k="route" v="bus"/>
  <tag k="to" v="Széna tér"/>
  <tag k="type" v="route"/>
 </relation>
...
 <relation id="371740" visible="true" version="33" changeset="17753628" timestamp="2013-09-09T17:17:53Z" user="Lübeck" uid="55462">
  <member type="way" ref="237271703" role=""/>
  <member type="relation" ref="377767" role=""/>
  <member type="relation" ref="171821" role=""/>
  <member type="relation" ref="963212" role=""/>
  <member type="relation" ref="1621355" role=""/>
  <member type="relation" ref="1157562" role=""/>
  <member type="relation" ref="1405326" role=""/>
  <member type="relation" ref="1144854" role=""/>
  <member type="relation" ref="2376439" role=""/>
  <member type="relation" ref="2376091" role=""/>
  <tag k="description" v="Spain - France - Switzerland - Germany - Austria - Hungary - Romania - Bulgaria - Greece - Cyprus"/>
  <tag k="length" v="10450"/>
  <tag k="name" v="European long distance path E4"/>
  <tag k="name:de" v="Europäischer Fernwanderweg E4"/>
  <tag k="name:en" v="European long distance path E4"/>
  <tag k="name:fr" v="Chemin de randonnée Européen E4"/>
  <tag k="name:pl" v="Europejski długodystansowy szlak pieszy E4"/>
  <tag k="network" v="iwn"/>
  <tag k="note" v="Main relation containing relations by countries"/>
  <tag k="operator" v="European Ramblers Association"/>
  <tag k="operator:ch" v="Dachverband Schweizer Wanderwege"/>
  <tag k="operator:de" v="Deutscher Wanderverband"/>
  <tag k="operator:es" v="Federación Española de Deportes de Montaña y Escalada"/>
  <tag k="operator:fr" v="Fédération Française de la Randonnée Pédestre"/>
  <tag k="operator:hu" v="Hungarian Nature-Friends Association"/>
  <tag k="osmc:symbol" v="blue:blue::E4:yellow"/>
  <tag k="ref" v="E4"/>
  <tag k="route" v="hiking"/>
  <tag k="type" v="superroute"/>
  <tag k="website" v="http://www.era-ewv-ferp.com/index.php?topmenu_id=29&amp;id=29&amp;page_id=108&amp;module=text"/>
  <tag k="wikipedia" v="fr:Sentier européen E4"/>
  <tag k="wikipedia:en" v="http://en.wikipedia.org/wiki/E4_European_long_distance_path"/>
  <tag k="wikipedia:pl" v="http://pl.wikipedia.org/wiki/Europejski_d%C5%82ugodystansowy_szlak_pieszy_E4"/>
 </relation>
...
 <relation id="3898165" visible="true" version="1" changeset="24228315" timestamp="2014-07-18T19:59:18Z" user="vakulya" uid="1559158">
  <member type="way" ref="293340659" role="outer"/>
  <member type="way" ref="293340658" role="inner"/>
  <tag k="natural" v="water"/>
  <tag k="type" v="multipolygon"/>
  <tag k="water" v="lake"/>
 </relation>
</osm>
]]>
                    </programlisting>
                </para>
                <para>
                    A fenti XML kódcsipetben az 'osm version="0.6"' tag jelöli az OSM Editing API verzióját,
                    amin keresztül letöltöttük az XML állományt.
                    A bounds tag tartalmazza az exportált terület behatároló minlat, minlon, maxlat, maxlon értékeket.
                </para>
                <para>
                    Az XML állományban garantáltan elől szerepelnek a csomópontok,
                    utánuk jönnek az utak, majd végül a kapcsolatok zárják a sort.
                    Viszont az nincs garantálva, hogy minden elemnek pozitív id-ja van, vagy hogy id szerint rendezve vannak.
                </para>
                <para>
                    Egy adott térkép adatállományában csomópontokból van a legtöbb és a csomópontoknak van a legnagyobb szerepük,
                    mivel csak a csomópontoknak vannak földrajzi koordinátái.
                    Példánkban szerepelnek olyan csomópontok, amiknek vannak címkei is,
                    így ezeknek a csomópontok önmagukban is van jelentésük, mint például egy internet kávézó vagy egy templom.
                    Címkék nélküli csomópontok általában egy út vagy kapcsolat részeként kapnak értelmet.
                    Megfigyelhető, hogy számos egyéb információt is tartalmazhatnak a címkék
                    (a címkékről bővebben lásd <link xlink:href="http://taginfo.openstreetmap.org">http://taginfo.openstreetmap.org</link>).
                </para>
                <para>
                    Az utak alkotják az állományban a következő blokkot. Az út tipusú elemeknek önmagukban nincsenek földrajzi koordinátái,
                    viszont tartalmazzák az őket alkotó csomópontok referenciáit (id-k), ami alapján kirajzolódnak.
                    A 'k="highway"' címke kulcs tagja jelöli, hogy ez esetben egy konkrét útól, utcáról van szó, amin közlekedni lehet.
                    Más esetekben az utak jelölhetik egy épület körvonalait.
                </para>
                <para>
                    Az utolsó kategória a kapcsolatok blokk.
                    Egy kapcsolat tartalmazza csomópontok és utak referenciáit és szerepüket.
                    Első példa kapcsolatra a 354-es főút, ami csak út típusú tagokat ('member type="way"') tartalmaz.
                    Látható, hogy a "role" (szerep) mező üresen is hagyható.
                    Másik példában egy térséget határoznak meg az utak.
                    A kapcsolatok közlekedési szabályokat is le tudnak írni, erre példa a "only_right_turn" értékkel szereplő címke,
                    ami két út és az őket összekötő csomopontban megadja, hogy csak jobbra szabad fordulni.
                    Következő jellegzetes példa, amire egy kapcsolat használható, az a buszjáratok útvonalainak megadása,
                    felsorolva a megállókat, mint csomópontok, és az őket összekötő utakat.
                    Az utlsó példában a kapcsolat egy tavat határoz meg két út segítségével.
                </para>
            </section>
            <section>
                <title>OSM szoftverek</title>
                <para>
                    Számos szoftver létezik ami az OSM térképeit és szolgáltatásait használja.
                    Ezek közül a legfontosabbak a szerkesztő szoftverek, útválasztó szoftverek, renderelő szoftverek,
                    importáló és exportáló szoftverek. Az asztali szoftverek egy listája az alábbi linken található:
                    <link xlink:href="http://wiki.openstreetmap.org/wiki/Software/Desktop">http://wiki.openstreetmap.org/wiki/Software/Desktop</link>.
                    Mi ezek közül a C++-os Osmium keretrendszert fogjuk használni
                    (<link xlink:href="http://osmcode.org/libosmium">http://osmcode.org/libosmium</link>).
                </para>
            </section>
            <section>
                <title>Osmium Library</title>
                <para>
                    Az Osmium könyvtár legújabb verziója elérhető a projekt github tárolójából:
                    <link xlink:href="https://github.com/osmcode/libosmium">https://github.com/osmcode/libosmium</link>.
                    A libosmium képes a legtöbb OSM adatformátumot kezelni, mind XML, mind PBF formátumban (Protocolbuffer Binary Format).
                    A beolvasott adatokat a memóriában, bufferekben tárolja, amihez a handler interfészen keresztül bejárást biztosít.
                    Ez a módszer a visitor design pattern elveit követi, ami alapján az algoritmus elkülönül az objecktum struktúra elemeitől.
                </para>
                <para>
                    Licenc szempontjából a libosmiumnak nagyon szabadvonalú licence van, a Boost Software License:
                    (<link xlink:href="http://www.boost.org/LICENSE_1_0.txt">http://www.boost.org/LICENSE_1_0.txt</link>).
                </para>
                <section>
                    <title>Telepítés</title>
                    <para>
                        Az alábbi paranccsal tudjuk leklónozni a github repóból a libosmiumot:
                        <screen>
<![CDATA[
andras@G53SW:~/Programs$ git clone https://github.com/osmcode/libosmium.git
]]>
                        </screen>
                        Az így létrejött mappa az alábbi szerkezetű:
                        <itemizedlist>
                            <listitem>
                                <para>
                                    include
                                </para>
                                <para>
                                    Itt találhatóak a szükséges include állományok.
                                    Ezek felhasználásával tudjuk saját alkalmazásunkban használni az Osmium könyvtárat.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    examples
                                </para>
                                <para>
                                    Pár példa arra, hogyan tudjuk használni az Osmium könyvtárat
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    doc
                                </para>
                                <para>
                                    Ebben a könyvtárban vannak a szükséges állományok a dokumentáció előállítására.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    test
                                </para>
                                <para>
                                    Unit tesztek könyvtára
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        A libosmium számos C++11-es feature-t használ, ezért egy modern fordítora van szükségünk (minimum GCC 4.8).
                        Továbbá számos másik könyvtárt használ a libosmium, amiket fel kell telepíteni használat előtt.
                        Ezek a következőek: boost, Google protobuf, OSMPBF, Expat, zlib, bz2lib, Doxygen (dokumentációhoz).
                        A legújabb Ubuntu linux disztribúción ezeknek a telepítése a következő paranccsal hajtható végre
                        (a telepítéshez root jogosultságra van szükség):
                        <screen>
<![CDATA[
andras@G53SW:~$ sudo apt-get install libboost-all-dev \
    libprotobuf-dev protobuf-compiler \
    libosmpbf-dev \
    libexpat1-dev \
    zlib1g-dev \
    libbz2-dev \
    doxygen graphviz xmlstarlet
]]>
                        </screen>
                    </para>
                    <para>
                        Osmium egy header-only könyvtár, ami azt jelenti, hogy nem kell lefordítani,
                        hanem csak egyszerűen be kell őket include-olni.
                        A libosmium könyvtárban állvan adjuk ki a következő parancsot a dokumentáció előállításához:
                        <screen>
<![CDATA[
andras@G53SW:~/Programs/libosmium$ make doc
]]>
                        </screen>
                        Az egyszerűség kedvéért a következő paranccsal bemásolhatjuk a header állományokat a /usr/include könyvtárba
                        (a másoláshoz root jogosultságra van szükség):
                        <screen>
<![CDATA[
andras@G53SW:~/Programs/libosmium$ sudo make install
]]>
                        </screen>
                    </para>
                </section>
            </section>
            <section>
                <title>C++</title>
                <para>
                </para>
            </section>
            <section>
                <title>A Robotautó Világbajnokság platformja</title>
                <para>
                </para>
                <section>
                    <title>A Justine gyors prototípus</title>
                    <para>
                    </para>
                </section>
            </section>
        </section>
        <section>
            <title>Saját fejlesztés</title>
            <para>
            </para>
            <section>
                <title>A kiválasztott probléma</title>
                <para>
                </para>
            </section>
            <section>
                <title>Módszertan, a szoftverfolyamat tervezése</title>
                <para>
                    A választott módszertan vázolása, a dokumentálás meghatározása (például agilisen, tipikusan a
                    forrásokból doxygen stb.)
                </para>
            </section>
            <section>
                <title>Tervezés</title>
                <para>
                    Koncepció, vízió.
                </para>
                <section>
                    <title>Szemelvények az SRS-ből</title>
                    <para>
                    </para>
                </section>
            </section>
            <section>
                <title>Fejlesztés</title>
                <para>
                </para>
                <section>
                    <title>Felhasznált szoftver eszközök</title>
                    <para>
                        Licenc-kompatibilitás stb.
                    </para>
                </section>
                <section>
                    <title>A fejlesztés mérföldkövei</title>
                    <para>
                        Szoftver kiadások, stb.
                    </para>
                </section>
                <section>
                    <title>Szoftver eredmények</title>
                    <para>
                        Kitérve a használatra, felületre.
                    </para>
                </section>
            </section>
            <section>
                <title>Tesztelés</title>
                <para>
                    A tesztelés bemutatása.
                </para>
            </section>
        </section>
    </section>
    <section>
        <title>Befejezés</title>
        <section>
            <title>Összegzés</title>
            <para>
            </para>
        </section>
        <section>
            <title>Továbbfejlesztési tervek és lehetőségek</title>
            <para>
            </para>
        </section>
    </section>
    <section>
        <title>Köszönet</title>
        <para>
            Hálával tartozom dr. Bátfai Norbert témavezetőmnek, aki a dolgozat megírásához hasznos tanácsaival, jó ötleteivel és odafigyelésével járult hozzá.
        </para>
    </section>
    <section>
        <title>Irodalomjegyzék</title>
    </section>
</article>
