<?xml version="1.0" encoding="UTF-8"?>
<article xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.1" xml:lang="hu">
    <info>
        <title>Robotautó Világbajnokság</title>
        <subtitle>Debreceni Egyetem Informatikai Kar</subtitle>
        <author>
            <personname>
                <honorific>Dr.</honorific>
                <surname>Bátfai</surname>
                <firstname>Norbert</firstname>
            </personname>
            <affiliation>
                <shortaffil>E. adjunktus, DEIK.</shortaffil>
                <jobtitle>Egyetemi adjunktus</jobtitle>
                <orgname>Debreceni Egyetem, Informatikai Kar</orgname>
                <orgdiv>Információtechnológiai Tanszék</orgdiv>
                <address>
                    <email>batfai.norbert@inf.unideb.hu</email>
                    <email>nbatfai@gmail.com</email>
                </address>
            </affiliation>
            <address>
                <street>Kassai út 26.</street>
                <city>Debrecen</city>
                <postcode>4028</postcode>
                <country>Magyarország</country>
                <email>batfai.norbert@inf.unideb.hu</email>
                <otheraddr>
                    <link xlink:href="http://www.inf.unideb.hu/~nbatfai">http://www.inf.unideb.hu/~nbatfai</link>
                </otheraddr>
            </address>
        </author>
        <author>
            <personname>
                <surname>Mamenyák</surname>
                <firstname>András</firstname>
            </personname>
            <affiliation>
                <jobtitle>mérnökinformatikus</jobtitle>
                <orgname>Debreceni Egyetem, Informatikai Kar</orgname>
                <orgdiv>Információtechnológiai Tanszék</orgdiv>
                <address>
                    <email>mamenyaka@gmail.com</email>
                </address>
            </affiliation>
        </author>
        <edition>Robotautó Világbajnokság, UDProg közösség dokumentációs feljegyzés, v. 0.0.6</edition>
        <pubdate>2015</pubdate>
        <copyright>
            <year>2015</year>
            <holder>Dr. Bátfai Norbert</holder>
            <holder>Mamenyák András</holder>
        </copyright>
        <legalnotice>
            <para>UDProg, Robotautó Világbajnokság
            </para>
            <para>
                This program is free software: you can redistribute it and/or modify
                it under the terms of the GNU General Public License as published by
                the Free Software Foundation, either version 3 of the License, or
                (at your option) any later version.
            </para>
            <para>
                This program is distributed in the hope that it will be useful,
                but WITHOUT ANY WARRANTY; without even the implied warranty of
                MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
                GNU General Public License for more details.
            </para>
            <para>
                You should have received a copy of the GNU General Public License
                along with this program.  If not, see
                <link xlink:href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</link>.
            </para>
            <para>
                Ez a program szabad szoftver; terjeszthető illetve módosítható a
                Free Software Foundation által kiadott GNU General Public License
                dokumentumában leírtak; akár a licenc 3-as, akár (tetszőleges) későbbi
                változata szerint.
            </para>
            <para>
                Ez a program abban a reményben kerül közreadásra, hogy hasznos lesz,
                de minden egyéb GARANCIA NÉLKÜL, az ELADHATÓSÁGRA vagy VALAMELY CÉLRA
                VALÓ ALKALMAZHATÓSÁGRA való származtatott garanciát is beleértve.
                További részleteket a GNU General Public License tartalmaz.
            </para>
            <para>
                A felhasználónak a programmal együtt meg kell kapnia a GNU General
                Public License egy példányát; ha mégsem kapta meg, akkor
                tekintse meg a
                <link xlink:href="http://www.gnu.org/licenses">http://www.gnu.org/licenses</link>
                oldalon.
            </para>
            <para>
                <link xlink:href="http://gnu.hu/gplv3.html">http://gnu.hu/gplv3.html</link>
            </para>
        </legalnotice>
        <revhistory>
            <revision>
                <revnumber>0.0.1</revnumber>
                <date>2014-11-24</date>
                <revremark>Iniciális dokumentum az aktuális és jövőbeli diplomamunkások támogatására.
                    A szereplő tételekből kiindulva a jelöltek könnyebben készíthetik el a saját munkájukra hangolva a
                    saját tartalomjegyzéküket.</revremark>
            </revision>
            <revision>
                <revnumber>0.0.2</revnumber>
                <date>2014-11-25</date>
                <revremark>Térképmegoldások összehasonlítása fejezet</revremark>
            </revision>
            <revision>
                <revnumber>0.0.3</revnumber>
                <date>2014-11-26</date>
                <revremark>OSM XML leírás</revremark>
            </revision>
            <revision>
                <revnumber>0.0.4</revnumber>
                <date>2014-11-26</date>
                <revremark>OSM XML példa</revremark>
            </revision>
            <revision>
                <revnumber>0.0.5</revnumber>
                <date>2014-11-26</date>
                <revremark>libosmium bemutatása, telepítés leírása</revremark>
            </revision>
            <revision>
                <revnumber>0.0.6</revnumber>
                <date>2014-11-27</date>
                <revremark>libosmium példaprogramok és magyarázatuk</revremark>
            </revision>
            <revision>
                <revnumber>0.0.7</revnumber>
                <date>2015-04-17</date>
                <revremark>doksi felfrissítése</revremark>
            </revision>
        </revhistory>
    </info>
    <section>
        <title>Bevezetés</title>
        <para>
            Intuitív és szakmai bevezetés.
        </para>
        <section>
            <title>Szakirodalmi háttér</title>
            <para>
                A kapcsolódó főbb tudományos publikációk hivatkozása és 1-2 mondatos összefoglalása.
            </para>
        </section>
        <section>
            <title>Megelőző és kapcsolódó munkák</title>
            <para>
                Jellegében az előző, de inkább szükebb értelemben a jelölt, illetva tágabban értelmezve az UDPROG
                közösség eredményeit kiemelve.
            </para>
        </section>
        <section>
            <title>A dolgozat szervezése és szerkezete</title>
            <para>
                Hol elérhető, például repóban? Miben készült?
                A szereplő konkrét fejezetek milyen sorrendben milyen tartalomal szerepelnek (1-2 mondat fejezetenként).
            </para>
        </section>
    </section>
    <section>
        <title>Tárgyalás</title>
        <section>
            <title>A fejlesztés háttere</title>
            <section>
                <title>Térképmegoldások összehasonlítása</title>
                <section>
                    <title>Google Maps</title>
                    <para>
                        Napjaink egyik legelterjedtebb térképmegoldása a Google Maps, amit a Google cég fejleszt.
                        A világ összes országának kiváló minőségű térképe ingyenesen elérhető a weben
                        (<link xlink:href="https://www.google.com/maps">https://www.google.com/maps</link>) vagy okostelefon alkalmazással.
                        2013-ban a világ leggyakrabban használt okostelefon alkalmazása a Google Maps volt a GlobalWebIndex alapján <citation>GWI</citation>.
                    </para>
                    <para>
                        A Google Maps számos API-t sorakoztat fel, amik lehetővé teszik,
                        hogy beágyazzuk a Google Maps térképeit, funkcióit saját weblapunkba vagy alkalmazásunkba.
                        Ezek az API-k a következők
                        (<link xlink:href="https://developers.google.com/maps/documentation">https://developers.google.com/maps/documentation</link>):
                        <itemizedlist>
                            <listitem>
                                <para>JavaScript API v3</para>
                            </listitem>
                            <listitem>
                                <para>Google Maps SDK for iOS</para>
                            </listitem>
                            <listitem>
                                <para>Web Services</para>
                            </listitem>
                            <listitem>
                                <para>Maps Image APIs</para>
                            </listitem>
                            <listitem>
                                <para>Maps for Work</para>
                            </listitem>
                            <listitem>
                                <para>Maps Android API</para>
                            </listitem>
                            <listitem>
                                <para>Places API</para>
                            </listitem>
                            <listitem>
                                <para>Google Earth API</para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        Licenc szempontjából sok megszorítás van a Google Maps API ingyenes használatában.
                        Többek közt kötelező, hogy a szolgáltatásunk ingyenesen és nyilvánosan elérhető legyen.
                        Továbbá alkalmazásunk nem haladhatja meg a 2500 kérés/nap határt sem
                        (részletesebben lásd: <link xlink:href="https://developers.google.com/maps/licensing">https://developers.google.com/maps/licensing</link>).
                        A licenc megtiltja, hogy lemásoljuk, módosítsuk vagy exportáljuk a Google Maps API által szolgáltatott adatokat
                        (lásd a 10.1.3-as részt, "Restrictions against Copying or Data Export": <link xlink:href="https://developers.google.com/maps/terms">https://developers.google.com/maps/terms</link>).
                    </para>
                    <para>
                        A licenc szigorúsága miatt elvetettük a Google Maps használatát a Robotautó emulátorban.
                        Lehetséges felhasználási terület: Androidos megjelenítő kliensekben, ahol a Google Maps térképre rajzoljuk ki az eredményt.
                    </para>
                </section>
                <section>
                    <title>HERE</title>
                    <para>
                        A HERE (régebbi nevén Ovi Maps és Nokia Maps) a Nokia cég által fejlesztett termékcsomag, ami magába foglalja közel 200 ország térképét.
                        A szolgáltatás elérhető a weben (<link xlink:href="http://here.com">http://here.com</link>) vagy okostelefon alkalmazással.
                    </para>
                    <para>
                        A HERE API-k a következők
                        (<link xlink:href="https://developer.here.com/">https://developer.here.com</link>):
                        <itemizedlist>
                            <listitem>
                                <para>JavaScript API-k:  Maps API for JavaScript 3.x, Maps API for JavaScript 2.x, Maps API for JavaScript Enterprise 2.x</para>
                            </listitem>
                            <listitem>
                                <para>REST API-k: Map Tile API, Map Image API, Venue Maps API, Routing API, Enterprise Routing API, Matrix Routing API, Geocoder API, Batch Geocoder API, Custom Location API, Places API, Traffic API</para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        A licenc megtiltja, hogy "a Tartalmat nem másolja, nem adja át, nem értékesíti, nem értékesíti újból, nem adja kölcsön, bérbe, nem kínálja fel, nem közvetíti, küldi el, nem terjeszti, nem ruházza át, a nyilvánossággal nem közli, nem sokszorosítja, módosítja, jeleníti meg, nem adja elő, kereskedelmi célokra nem használja, illetőleg nem teszi elérhetővé"
                        (lásd a 6.-os részt, "A Tartalom": <link xlink:href="http://here.com/terms/service-terms/hu">http://here.com/terms/service-terms/hu</link>).
                    </para>
                    <para>
                        A licenc megszorításai miatt elvetettük a HERE használatát a Robotautó emulátorban.
                        Lehetséges felhasználási terület: Webes, Androidos, Windows Phone-os megjelenítő.
                    </para>
                </section>
                <section>
                    <title>Bing Maps</title>
                    <para>
                        A Bing Maps platform a Microsoft cég által fejlesztett Bing kereső szolgáltatás része, régebbi nevén Microsoft Virtual Earth.
                        A szolgáltatás elérhető a weben (<link xlink:href="http://www.bing.com/maps">http://www.bing.com/maps</link>) és Windows Phone platformon.
                    </para>
                    <para>
                        A Bing Maps API-k a következők
                        (<link xlink:href="http://www.microsoft.com/maps/choose-your-bing-maps-API.aspx">http://www.microsoft.com/maps/choose-your-bing-maps-API.aspx</link>):
                        <itemizedlist>
                            <listitem>
                                <para>Windows Store alkalmazásokhoz: JavaScript API, .NET API</para>
                            </listitem>
                            <listitem>
                                <para>Bing Maps AJAX Control 7.0 (Microsoft.Maps API-k): AdvancedShapes API, Directions API, Search API, Traffic API, VenueMaps API</para>
                            </listitem>
                            <listitem>
                                <para>REST API-k: Locations API, Elevations API, Imagery API, Routes API, Traffic API</para>
                            </listitem>
                            <listitem>
                                <para>Spatial Data Services API-k: Geocode Dataflow API, Data Source Management API, Query API, Geodata API</para>
                            </listitem>
                            <listitem>
                                <para>Windows Presentation Foundation Control (WPF) API</para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        A licencben előírt megszorítások tiltják, hogy lemásoljuk, tároljuk, arhiváljuk vagy a Tartalm alapján adatbázist hozzunk létre
                        (lásd a 3.2-es részt, "General Restrictions" <link xlink:href="http://www.microsoft.com/maps/product/terms.html">http://www.microsoft.com/maps/product/terms.html</link>).
                    </para>
                    <para>
                        A licenc megszorításai miatt elvetettük a Bing Maps használatát a Robotautó emulátorban.
                        Lehetséges felhasználási terület: Webes, Windows-os megjelenítő.
                    </para>
                </section>
                <section>
                    <title>OpenStreetMap</title>
                    <para>
                        Az OpenStreetMap (<link xlink:href="http://www.openstreetmap.org">http://www.openstreetmap.org</link>) egy olyan közösségi projekt,
                        aminek célja egy nyíltan használható, módosítható térkép készítése az egész világról.
                        A projektet a Wikipedia sikeressége ihlette, ami bebizonyította, hogy közösségi adatgyűjtéssel nagy mennyiségű és jó minőségű adatokat lehet előállítani.
                        Az egyetlen hátránya az, hogy előforduló hibákat nehezen lehet javítani,
                        de a közösség nagy része jószándékú, így az esetleges pontatlanságokat automatikusan javítják.
                    </para>
                    <para>
                        Kereskedelmi térképek adataiban található számos csapda, amivel el lehet kapni azokat, akik ezt másolják.
                        Erre példa a nem létező, hamis utcák, szándékosan hiányzó utcák, nem létező iskolák, stb.
                        Emiatt a közreműködők légi fotók, GPS eszközök és egyéb ingyenes térképek
                        (mint például nemzeti térképészeti ügynökségek nyílt térképei)
                        segítségével járulnak hozzá, ellenőrzik és tartják karban az OSM adatbázist.
                        A legújabb adatok szerint az OpenStreetMap regisztrált felhasználóinak száma közel 2 millió <citation>OSMstats</citation>.
                    </para>
                    <para>
                        2010-ben a Bing bejelentette, hogy a Bing Maps légi felvételeit szabadon felhasználhatja az OpenStreetMap közösség arra a célra,
                        hogy a képek alapján nyomkövethetik az utakat, épületeket, stb., gyarapítva ezzel az OSM adatbázist <citation>BingAerial</citation>
                    </para>
                    <para>
                        Az OpenStreetMap-nak egyetlen saját API-ja van, a REST API alapú OSM Editing API,
                        ami OSM adatbazis nyers geoadatainak letöltésére és feltöltésére szolgál
                        (<link xlink:href="http://wiki.openstreetmap.org/wiki/API">http://wiki.openstreetmap.org/wiki/API</link>).
                    </para>
                    <para>
                        Az OpenStreetMap nyílt adatokból áll, aminek licence az Open Data Commons Open Database License (ODbL)
                        (lásd <link xlink:href="http://www.openstreetmap.org/copyright">http://www.openstreetmap.org/copyright</link>).
                        Ez a licenc lehetővé teszi, hogy szabadon lemásoljuk, terjesszük, módosítsuk az adatokat.
                        Egyetlen feltétele, hogy ha módosítjuk az adatokat, vagy ha az adatokra épülő szolgáltatást készítünk, akkor csak ugyanazzal a licenc-el tehetjük.
                    </para>
                    <para>
                        A megfelelő minőségű adatoknak és a kedvező licencnek köszönhetően támogatjuk az OpenStreetMap használatát a Robotautó emulátorban.
                    </para>
                </section>
                <section>
                    <title>Összegzés</title>
                    <para>
                        A Robotautó világbajnokság emulátora az OpenStreetMap térképeit fogja használni.
                    </para>
                    <para>
                        Kérdés: De miért nem egyszerűen a Google Maps-t használjuk, mint mindenki más?
                    </para>
                    <para>
                        Válasz: Azok az adatok szerzői jog által védve vannak és több szervezet tulajdonában állnak, mint például a NAVTEQ vagy a Tele Atlas.
                        A Google csak licenceli az adatokat. Ha használni akarnánk, fizetnünk kéne értük.
                        Ezzel ellentétben az OpenStreetMap teljesen ingyenes és nyílt licencű.
                    </para>
                </section>
            </section>
            <section>
                <title>OpenStreetMap XML szerkezete</title>
                <para>
                    Az OpenStreetMap nyers térkép adatait XML formátumban tudjuk letölteni (exportánli) a projekt honlapjáról.
                    Az így kapott állomány kiterjesztése egy teljesen valid XML dokumentum, melynek kiterjesztése ".osm".
                    Ha a teljes bolygóra vonatkozó adatokat le akarjuk tölteni, azt is megtehetjük az alábbi linken:
                    <link xlink:href="http://planet.openstreetmap.org">http://planet.openstreetmap.org</link>.
                    Jelenlegi mérete a tömörített planet állománynak 38 GB.
                </para>
                <para>
                    Legtöbb esetben csak egy város térképére van szükségünk, amit az alábbi módon exportálhatunk:
                    <figure xml:id="osmexport">
                        <title>Debrecen város térképének exportálása</title>
                        <mediaobject>
                            <imageobject>
                                <imagedata fileref="figures/osmexport.png"/>
                            </imageobject>
                        </mediaobject>
                    </figure>
                </para>
                <para>
                    Az XML állomány szerkezetileg három fő adat alkotóelemből (adat primitívekből, objektumokból) és azok címkéiből épül fel:
                    <itemizedlist>
                        <listitem>
                            <para>nodes (csomópontok)</para>
                            <para>
                                A <emphasis>csomópont</emphasis> meghatároz egy adott pontot a Föld felszínén, annak földrajzi hosszúságát és szélességét.
                                Az OpenStreetMap a WGS84 koordináta rendszert használja.
                                Példa: buszmegálló, pad, jelzőlámpa.
                            </para>
                        </listitem>
                        <listitem>
                            <para>ways (utak)</para>
                            <para>
                                Az <emphasis>út</emphasis> a csomópontok egy rendezett listája.
                                Példa: utak, folyók, területek határvonalai.
                            </para>
                        </listitem>
                        <listitem>
                            <para>relations (kapcsolatok)</para>
                            <para>
                                A <emphasis>kapcsolat</emphasis> olyan adatszerkezet, ami több tag kapcsolatát írja le, azoknak egy rendezett listája.
                                A tagok lehetnek utak, csomópontok vagy akár további kapcsolatok,
                                és tartalmazzák a <emphasis>member type</emphasis> (tag típus) és a <emphasis>role</emphasis> (szerep) címkéket.
                                Általában a típus címke határozza meg a kapcsolat értelmét.
                                Példa: buszjárat, ami csomópontok listájából (megállókból) és utakból áll.
                            </para>
                        </listitem>
                        <listitem>
                            <para>tags (címkék)</para>
                            <para>
                                A címkék jelentést adhatnak az egyes adatelemeknek, de használatuk opcionális.
                                Két részből állnak: kulcs és érték.
                                Példa: "highway=pedestrian", ami a gyalogos utat jelent.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    Minden csomópontnak, útnak és kapcsolatnak a következő attribútumai vannak az adatbázisban:
                    <itemizedlist>
                        <listitem>
                            <para>
                                id
                            </para>
                            <para>
                                Értéke egy szám, ami egyértelműen beazonosítja az adott adatelemet.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                user
                            </para>
                            <para>
                                Értéke az a regisztrált felhasználónév, aki létrehozta vagy utoljára módosította az adott objektumot.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                uid
                            </para>
                            <para>
                                Felhasználó azonosító. A felhasználónév változhat, de az id nem
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                timestamp
                            </para>
                            <para>
                                Időbélyeg, a legutolsó módosítás idelyét tartalmazza.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                visible
                            </para>
                            <para>
                                Lehet igaz vagy hamnis.
                                Ha a visible értéke hamis, akkor az objektum törölve lett az adatbázisból.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                version
                            </para>
                            <para>
                                Kezdetben 1, minden módosításnál egyel nő az értéke.
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                changeset
                            </para>
                            <para>
                                Értéke egy szám, ami meghatározza a módosítások egy halmazát, amiben az adott objektum létrejött vagy módosult.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para>
                    Bővebb információk az OpenStreetMap wiki oldalán olvashatóak:
                    <link xlink:href="http://wiki.openstreetmap.org/wiki/Main_Page">http://wiki.openstreetmap.org/wiki/Main_Page</link>
                </para>
            </section>
            <section>
                <title>Példa XML kódrészletre</title>
                <para>
                    A következő XML kódcsipet Debrecen városának térképéből lett kivágva.
                    Véleményem szerint meglepő, hogy milyen részletességgel van jelen ennyi adat kis városunkról.
                    <programlisting language="xml">
<![CDATA[
<?xml version="1.0" encoding="UTF-8"?>
<osm version="0.6" generator="CGImap 0.3.3 (12932 thorn-01.openstreetmap.org)" copyright="OpenStreetMap and contributors" attribution="http://www.openstreetmap.org/copyright" license="http://opendatacommons.org/licenses/odbl/1-0/">
 <bounds minlat="47.4811000" minlon="21.5076000" maxlat="47.5845000" maxlon="21.7771000"/>
 <node id="26754899" visible="true" version="10" changeset="22677330" timestamp="2014-06-01T17:02:36Z" user="Kolesár" uid="170666" lat="47.5525471" lon="21.6205428"/>
 <node id="26754891" visible="true" version="4" changeset="9718270" timestamp="2011-11-02T00:21:45Z" user="BáthoryPéter" uid="408450" lat="47.5612237" lon="21.6230840"/>
...
 <node id="196235228" visible="true" version="10" changeset="25408912" timestamp="2014-09-13T11:03:24Z" user="nagy_balint" uid="1971976" lat="47.6997683" lon="21.4372610">
  <tag k="highway" v="services"/>
  <tag k="name" v="Böszörményi pihenőhely"/>
  <tag k="ref" v="19"/>
 </node>
...
 <node id="2460128494" visible="true" version="2" changeset="22853651" timestamp="2014-06-10T16:22:42Z" user="neosystem100" uid="2116499" lat="47.5343657" lon="21.6255522">
  <tag k="addr:city" v="Debrecen"/>
  <tag k="addr:housenumber" v="4"/>
  <tag k="addr:postcode" v="4026"/>
  <tag k="addr:street" v="Péterfia utca"/>
  <tag k="amenity" v="school"/>
  <tag k="name" v="Computer School Debrecen"/>
  <tag k="phone" v="0652/533-328"/>
 </node>
...
 <node id="2910768733" visible="true" version="1" changeset="22868114" timestamp="2014-06-11T10:03:45Z" user="DonTomika" uid="1336266" lat="47.5294086" lon="21.6276621">
  <tag k="addr:city" v="Debrecen"/>
  <tag k="addr:country" v="HU"/>
  <tag k="addr:housenumber" v="8"/>
  <tag k="addr:postcode" v="4024"/>
  <tag k="addr:street" v="Kossuth utca"/>
  <tag k="email" v="info.debicafe@gmail.com"/>
  <tag k="fax" v="+36 52 998 077"/>
  <tag k="internet_access" v="terminal"/>
  <tag k="internet_access:fee" v="yes"/>
  <tag k="name" v="Internet Cafe"/>
  <tag k="opening_hours" v="Mo-Fr 07:00-24:00, Sa-Su 09:00-24:00"/>
  <tag k="operator" v="Net 2000 Kft"/>
  <tag k="phone" v="+36 70 942 01 84"/>
  <tag k="service:computer" v="yes"/>
  <tag k="service:copy" v="yes"/>
  <tag k="service:print" v="yes"/>
  <tag k="service:scan" v="yes"/>
  <tag k="shop" v="copyshop"/>
  <tag k="website" v="http://www.dcafe.hu/"/>
 </node>
...
 <node id="3088739774" visible="true" version="2" changeset="25673049" timestamp="2014-09-25T20:18:44Z" user="ImreSamu" uid="996303" lat="47.5497190" lon="21.6161230">
  <tag k="addr:city" v="Debrecen"/>
  <tag k="addr:housenumber" v="25"/>
  <tag k="addr:street" v="Bolyai utca"/>
  <tag k="amenity" v="place_of_worship"/>
  <tag k="denomination" v="protestant"/>
  <tag k="name" v="Nagyerdei Reformatus templom"/>
  <tag k="religion" v="christian"/>
  <tag k="website" v="www.refnagyerdo.hu"/>
  <tag k="wheelchair" v="yes"/>
 </node>
 <way id="4383939" visible="true" version="4" changeset="756851" timestamp="2008-11-16T21:59:37Z" user="madar" uid="17542">
  <nd ref="26754882"/>
  <nd ref="26754884"/>
  <nd ref="247995181"/>
  <tag k="created_by" v="Potlatch 0.10f"/>
  <tag k="highway" v="residential"/>
  <tag k="name" v="Martinovics utca"/>
 </way>
 <way id="4383938" visible="true" version="2" changeset="3678050" timestamp="2010-01-21T20:36:49Z" user="CarstenG" uid="72700">
  <nd ref="26754874"/>
  <nd ref="26754875"/>
  <nd ref="26754877"/>
  <nd ref="26754878"/>
  <nd ref="26754880"/>
  <nd ref="26754881"/>
  <nd ref="26754882"/>
  <tag k="highway" v="residential"/>
  <tag k="name" v="Oláh Gábor utca"/>
 </way>
...
 <way id="304275917" visible="true" version="1" changeset="25566629" timestamp="2014-09-20T19:41:16Z" user="ImreSamu" uid="996303">
  <nd ref="3088072849"/>
  <nd ref="1971681657"/>
  <nd ref="1971681646"/>
  ...
  <nd ref="3088072896"/>
  <nd ref="3088072897"/>
  <nd ref="3088072849"/>
  <tag k="building" v="commercial"/>
 </way>
 <relation id="23104" visible="true" version="8" changeset="22068566" timestamp="2014-05-01T17:22:38Z" user="akosbarta" uid="1731170">
  <member type="way" ref="202670924" role=""/>
  <member type="way" ref="185521439" role=""/>
  <member type="way" ref="25702600" role=""/>
  <member type="way" ref="25702638" role=""/>
  <member type="way" ref="25702640" role=""/>
  <member type="way" ref="27743398" role=""/>
  <member type="way" ref="278615091" role=""/>
  <tag k="ref" v="354"/>
  <tag k="route" v="road"/>
  <tag k="type" v="route"/>
 </relation>
...
 <relation id="1599036" visible="true" version="3" changeset="14625237" timestamp="2013-01-12T17:58:42Z" user="Domcsi" uid="57628">
  <member type="way" ref="57881620" role="outer"/>
  <member type="way" ref="57878271" role="outer"/>
  <member type="way" ref="57875799" role="outer"/>
  <member type="way" ref="57877593" role="outer"/>
  <member type="way" ref="57873858" role="outer"/>
  <member type="way" ref="57877282" role="outer"/>
  <member type="way" ref="57880871" role="outer"/>
  <member type="way" ref="57875464" role="outer"/>
  <member type="way" ref="57877408" role="outer"/>
  <member type="way" ref="57877602" role="outer"/>
  <member type="way" ref="57875930" role="outer"/>
  <member type="way" ref="57879667" role="outer"/>
  <member type="way" ref="57873849" role="outer"/>
  <member type="way" ref="57881486" role="outer"/>
  <member type="way" ref="57874107" role="outer"/>
  <member type="way" ref="57875673" role="outer"/>
  <member type="way" ref="57879417" role="outer"/>
  <member type="way" ref="57878554" role="outer"/>
  <member type="way" ref="57882140" role="outer"/>
  <member type="node" ref="26757724" role="admin_centre"/>
  <tag k="admin_level" v="7"/>
  <tag k="boundary" v="administrative"/>
  <tag k="name" v="Debreceni kistérség"/>
  <tag k="type" v="boundary"/>
 </relation>
...
 <relation id="1855523" visible="true" version="3" changeset="15133136" timestamp="2013-02-23T10:22:32Z" user="flaktack" uid="55843">
  <member type="way" ref="137727230" role="from"/>
  <member type="node" ref="1510346310" role="via"/>
  <member type="way" ref="137727228" role="to"/>
  <tag k="restriction" v="only_right_turn"/>
  <tag k="type" v="restriction"/>
 </relation>
...
 <relation id="2773522" visible="true" version="3" changeset="15985713" timestamp="2013-05-05T15:23:27Z" user="flaktack" uid="55843">
  <member type="node" ref="1452131578" role="stop"/>
  <member type="node" ref="2162387215" role="stop"/>
  <member type="node" ref="2162387571" role="stop"/>
  <member type="node" ref="2162387601" role="stop"/>
  <member type="node" ref="2162387254" role="stop"/>
  <member type="node" ref="1970902820" role="stop"/>
  <member type="node" ref="1970902805" role="stop"/>
  <member type="node" ref="1970902808" role="stop"/>
  <member type="node" ref="1970902813" role="stop"/>
  <member type="node" ref="1970902804" role="stop"/>
  <member type="node" ref="1970881207" role="stop"/>
  <member type="way" ref="206375983" role=""/>
  <member type="way" ref="24573990" role=""/>
  <member type="way" ref="27826168" role=""/>
  <member type="way" ref="206376116" role=""/>
  <member type="way" ref="27826167" role=""/>
  <member type="way" ref="120180403" role=""/>
  <member type="way" ref="206375970" role=""/>
  <member type="way" ref="24427384" role=""/>
  <member type="way" ref="206375974" role=""/>
  <member type="way" ref="206804834" role=""/>
  <member type="way" ref="206804829" role=""/>
  <member type="way" ref="206804840" role=""/>
  <tag k="from" v="Nagyállomás"/>
  <tag k="ref" v="18"/>
  <tag k="route" v="bus"/>
  <tag k="to" v="Széna tér"/>
  <tag k="type" v="route"/>
 </relation>
...
 <relation id="371740" visible="true" version="33" changeset="17753628" timestamp="2013-09-09T17:17:53Z" user="Lübeck" uid="55462">
  <member type="way" ref="237271703" role=""/>
  <member type="relation" ref="377767" role=""/>
  <member type="relation" ref="171821" role=""/>
  <member type="relation" ref="963212" role=""/>
  <member type="relation" ref="1621355" role=""/>
  <member type="relation" ref="1157562" role=""/>
  <member type="relation" ref="1405326" role=""/>
  <member type="relation" ref="1144854" role=""/>
  <member type="relation" ref="2376439" role=""/>
  <member type="relation" ref="2376091" role=""/>
  <tag k="description" v="Spain - France - Switzerland - Germany - Austria - Hungary - Romania - Bulgaria - Greece - Cyprus"/>
  <tag k="length" v="10450"/>
  <tag k="name" v="European long distance path E4"/>
  <tag k="name:de" v="Europäischer Fernwanderweg E4"/>
  <tag k="name:en" v="European long distance path E4"/>
  <tag k="name:fr" v="Chemin de randonnée Européen E4"/>
  <tag k="name:pl" v="Europejski długodystansowy szlak pieszy E4"/>
  <tag k="network" v="iwn"/>
  <tag k="note" v="Main relation containing relations by countries"/>
  <tag k="operator" v="European Ramblers Association"/>
  <tag k="operator:ch" v="Dachverband Schweizer Wanderwege"/>
  <tag k="operator:de" v="Deutscher Wanderverband"/>
  <tag k="operator:es" v="Federación Española de Deportes de Montaña y Escalada"/>
  <tag k="operator:fr" v="Fédération Française de la Randonnée Pédestre"/>
  <tag k="operator:hu" v="Hungarian Nature-Friends Association"/>
  <tag k="osmc:symbol" v="blue:blue::E4:yellow"/>
  <tag k="ref" v="E4"/>
  <tag k="route" v="hiking"/>
  <tag k="type" v="superroute"/>
  <tag k="website" v="http://www.era-ewv-ferp.com/index.php?topmenu_id=29&amp;id=29&amp;page_id=108&amp;module=text"/>
  <tag k="wikipedia" v="fr:Sentier européen E4"/>
  <tag k="wikipedia:en" v="http://en.wikipedia.org/wiki/E4_European_long_distance_path"/>
  <tag k="wikipedia:pl" v="http://pl.wikipedia.org/wiki/Europejski_d%C5%82ugodystansowy_szlak_pieszy_E4"/>
 </relation>
...
 <relation id="3898165" visible="true" version="1" changeset="24228315" timestamp="2014-07-18T19:59:18Z" user="vakulya" uid="1559158">
  <member type="way" ref="293340659" role="outer"/>
  <member type="way" ref="293340658" role="inner"/>
  <tag k="natural" v="water"/>
  <tag k="type" v="multipolygon"/>
  <tag k="water" v="lake"/>
 </relation>
</osm>
]]>
                    </programlisting>
                </para>
                <para>
                    A fenti XML kódcsipetben az <emphasis>osm version="0.6"</emphasis> tag jelöli az OSM Editing API verzióját,
                    amin keresztül letöltöttük az XML állományt.
                    A <emphasis>bounds</emphasis> tag tartalmazza az exportált területet behatároló
                    <emphasis>minlat</emphasis>, <emphasis>minlon</emphasis>, <emphasis>maxlat</emphasis>, <emphasis>maxlon</emphasis> értékeket.
                </para>
                <para>
                    Az XML állományban garantáltan elől szerepelnek a csomópontok,
                    utánuk jönnek az utak, majd végül a kapcsolatok zárják a sort.
                    Viszont az nincs garantálva, hogy minden elemnek pozitív id-ja van, vagy hogy id szerint rendezve vannak.
                </para>
                <para>
                    Egy adott térkép adatállományában <emphasis>csomópont</emphasis> típusból van a legtöbb és ezeknek van a legfontosabb szerepe,
                    mivel csak itt vannak a földrajzi koordináták megadva.
                    Példánkban szerepelnek olyan csomópontok, amiknek címkei is vannak,
                    így ezeknek a csomópontoknak önmagukban is van jelentésük, mint például egy internet kávézó vagy egy templom.
                    Címkék nélküli csomópontok általában egy út vagy kapcsolat részeként kapnak értelmet.
                    Megfigyelhető, hogy számos egyéb információt is tartalmazhatnak a címkék
                    (a címkékről bővebben lásd <link xlink:href="http://taginfo.openstreetmap.org">http://taginfo.openstreetmap.org</link>).
                </para>
                <para>
                    Az <emphasis>út</emphasis> típusok alkotják az állományban a következő blokkot. Az út tipusú elemeknek önmagukban nincsenek földrajzi koordinátái,
                    viszont tartalmazzák az őket alkotó csomópontok <emphasis>id</emphasis> referenciáit, ami alapján kirajzolódnak.
                    A <emphasis>k="highway"</emphasis> címke kulcs tagja jelöli, hogy ez esetben egy konkrét útról, utcáról van szó, amin közlekedni lehet.
                    Más esetekben az utak jelölhetik például egy épület körvonalait.
                </para>
                <para>
                    Az utolsó kategória a <emphasis>kapcsolat</emphasis> típusok blokk.
                    Egy kapcsolat tartalmazza csomópontok és utak referenciáit és szerepüket.
                    Első példa kapcsolatra a 354-es főút, ami csak út típusú tagokat (<emphasis>member type="way"</emphasis>) tartalmaz.
                    Látható, hogy a <emphasis>role</emphasis> (szerep) mező üresen is hagyható.
                    Másik példában egy térséget határoznak meg az utak.
                    A kapcsolatok közlekedési szabályokat is le tudnak írni, erre példa a <emphasis>only_right_turn</emphasis> értékkel szereplő címke,
                    ami két út és az őket összekötő csomopontban megadja, hogy csak jobbra szabad fordulni.
                    Következő jellegzetes példa, amire egy kapcsolat használható, az a buszjáratok útvonalainak megadása,
                    felsorolva a megállókat, mint csomópontok, és az őket összekötő utakat.
                    Az utlsó példában a kapcsolat egy tavat határoz meg két út segítségével.
                </para>
            </section>
            <section>
                <title>OSM szoftverek</title>
                <para>
                    Számos szoftver létezik ami az OSM térképeit és szolgáltatásait használja.
                    Ezek közül a legfontosabbak a szerkesztő szoftverek, útválasztó szoftverek, renderelő szoftverek,
                    importáló és exportáló szoftverek. Az asztali szoftverek egy listája az alábbi linken található:
                    <link xlink:href="http://wiki.openstreetmap.org/wiki/Software/Desktop">http://wiki.openstreetmap.org/wiki/Software/Desktop</link>.
                    Mi ezek közül a C++-os Osmium keretrendszert fogjuk használni
                    (<link xlink:href="http://osmcode.org/libosmium">http://osmcode.org/libosmium</link>).
                </para>
            </section>
            <section>
                <title>Osmium Library</title>
                <para>
                    Az Osmium könyvtár legújabb verziója elérhető a projekt GitHub tárolójából:
                    <link xlink:href="https://github.com/osmcode/libosmium">https://github.com/osmcode/libosmium</link>.
                    A libosmium képes a legtöbb OSM adatformátumot kezelni, mind XML, mind PBF formátumban (Protocolbuffer Binary Format).
                    A beolvasott adatokat a memóriában, bufferekben tárolja, amihez a handler interfészen keresztül bejárást biztosít.
                    Ez a módszer a Visitor design pattern elveit követi, ami alapján az algoritmus elkülönül az objecktum struktúra elemeitől.
                </para>
                <para>
                    Licenc szempontjából a libosmiumnak nagyon szabadvonalú licence van, a Boost Software License
                    (<link xlink:href="http://www.boost.org/LICENSE_1_0.txt">http://www.boost.org/LICENSE_1_0.txt</link>).
                </para>
                <section>
                    <title>Telepítés</title>
                    <para>
                        Telepítéshez követjük a projekt oldalán található lépéseket,
                        amiket a <emphasis>README.md</emphasis> generál.
                        Az alábbi paranccsal tudjuk leklónozni a repót:
                        <screen>
<![CDATA[
andras@G53SW:~/Programs$ git clone https://github.com/osmcode/libosmium.git
]]>
                        </screen>
                        Az így létrejött mappa az alábbiakat tartalmazza:
                        <itemizedlist>
                            <listitem>
                                <para>
                                    include
                                </para>
                                <para>
                                    Itt találhatóak a szükséges header állományok.
                                    Ezek felhasználásával tudjuk saját alkalmazásunkban használni az Osmium könyvtárat.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    examples
                                </para>
                                <para>
                                    Pár példa arra, hogyan tudjuk használni az Osmium könyvtárat.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    doc
                                </para>
                                <para>
                                    Ebben a mappában vannak a szükséges állományok a dokumentáció előállítására.
                                </para>
                            </listitem>
                            <listitem>
                                <para>
                                    cmake
                                </para>
                                <para>
                                    CMake modulok mappája, amik segítségével tudunk létrehozni cmake-es projektet,
                                    ami libosmium-ot használ (FindOsmium.cmake).
                                </para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        A libosmium számos C++11-es feature-t használ, ezért egy modern fordítora van szükségünk (minimum GCC 4.8).
                        Továbbá számos másik könyvtártól is függ a libosmium, amiket fel kell telepíteni használat előtt.
                        A fontos függőségek a következőek:
                        CMake és Make, Google Protocol Buffers, OSMPBF, Expat, Zlib, bz2lib.
                        Ezeken kívül érdemes az opcionális függősegeket is telepíteni:
                        Google Sparsehash, Boost, GDAL, GEOS, Proj.4, Doxygen.
                        A legújabb Ubuntu linux disztribúció (15.04) alatt ezeknek a telepítése a következő paranccsal hajtható végre
                        (a telepítéshez root jogosultságra van szükség):
                        <screen>
<![CDATA[
andras@G53SW:~$ sudo apt-get install \
    cmake cmake-curses-gui make \
    libprotobuf-dev protobuf-compiler \
    libosmpbf-dev \
    libexpat1-dev \
    zlib1g-dev \
    libbz2-dev \
    libsparsehash-dev \
    libboost-all-dev \
    libgdal1-dev \
    libgeos++-dev \
    libproj-dev \
    doxygen graphviz
]]>
                        </screen>
                    </para>
                    <para>
                        Az Osmium egy <emphasis>header-only</emphasis> könyvtár, ami azt jelenti, hogy nem kell lefordítani,
                        hanem csak egyszerűen be kell őket include-olni programunkba.
                        A az előbb leklónozott mappában állva a következő paranccsal bemásoljuk a header állományokat
                        a <emphasis>/usr/local/include</emphasis> mappába (a másoláshoz root jogosultságra van szükség):
                        <screen>
<![CDATA[
andras@G53SW:~/Programs/libosmium$ sudo cp -r include/osmium/ /usr/local/include/
]]>
                        </screen>
                        Adjuk ki a következő parancsot a peldák és a tesztek előállításához:
                        <screen>
<![CDATA[
andras@G53SW:~/Programs/libosmium$ mkdir build
andras@G53SW:~/Programs/libosmium$ cd build
andras@G53SW:~/Programs/libosmium/build$ cmake ..
andras@G53SW:~/Programs/libosmium/build$ make
]]>
                        </screen>
                        A cmake konfiguráció módosításához használhatjuk a következő parancsot,
                        ha például nem szeretnénk előállitani a teszteket:
                        <screen>
<![CDATA[
andras@G53SW:~/Programs/libosmium/build$ ccmake ..
]]>
                        </screen>
                        <figure xml:id="ccmake">
                            <title>A CMake curses interface</title>
                            <mediaobject>
                                <imageobject>
                                    <imagedata fileref="figures/ccmake.png"/>
                                </imageobject>
                            </mediaobject>
                        </figure>
                        Végezetül a dokumentáció előállítása:
                        <screen>
<![CDATA[
andras@G53SW:~/Programs/libosmium/build$ make doc
]]>
                        </screen>
                    </para>
                </section>
            </section>
            <section>
                <title>Saját libosmium példaprogramok</title>
                <section>
                    <title>Utcák kilistázása</title>
                    <para>
                        Az első példaprogram az OpenStreetMap oldaláról exportált Debrecen térképről listázza ki az utcákat.
                        A tejes program leklónozható a következő git repóból:
                        <link xlink:href="https://bitbucket.org/mamenyaka/utcak">https://bitbucket.org/mamenyaka/utcak</link>
                    </para>
                    <para>
                        Az utcak.cpp forrása:
                        <programlisting language="C++">
                            <textobject>
                                <textdata fileref="src/utcak/utcak.cpp"/>
                            </textobject>
                        </programlisting>
                    </para>
                    <para>
                        A program berántja a parancssori argumentumként kapott OSM állományt (lehet XML vagy PBF)
                        egy <emphasis>osmium::memory::Buffer</emphasis>-be:
                        <programlisting language="C++">
<![CDATA[
osmium::memory::Buffer buffer = osmium::io::read_file(argv[1]);
]]>
                        </programlisting>
                    </para>
                    <para>
                        A <emphasis>buffer</emphasis>-ben lévő OSM objektumokat az alábbi C++11-es <emphasis>range-based for</emphasis> ciklussal járhatjuk be:
                        <programlisting language="C++">
<![CDATA[
for (const auto& item : buffer)
]]>
                        </programlisting>
                        Az elemeket konstans referenciaként érjük el,
                        a C++11-es <emphasis>auto</emphasis> specifikátor seg1ítségével az <emphasis>item</emphasis> típusa automatikusan ki lesz következtetve
                        (jelen esetben <emphasis>osmium::OSMEntity</emphasis>, ami az alap absztrakt ősosztálya az OSM objektumoknak).
                        <figure xml:id="OSMEntity">
                            <title>Az <emphasis>osmium::OSMEntity</emphasis> öröklődési diagramja a dokumentáció szerint</title>
                            <mediaobject>
                                <imageobject>
                                    <imagedata fileref="figures/OSMEntity.png"/>
                                </imageobject>
                            </mediaobject>
                        </figure>
                    </para>
                    <para>
                        Ez a feltétel biztosítja számunka, hogy csak út tipusú <emphasis>item</emphasis>-ekkel dolgozunk.
                        <programlisting language="C++">
<![CDATA[
if (item.type() == osmium::item_type::way)
]]>
                        </programlisting>
                        Így bátran downcast-olhatjuk az <emphasis>item</emphasis> referenciát,
                        <emphasis>osmium::OSMEntity</emphasis> típusról <emphasis>osmium::Way</emphasis> típusra,
                        mivel az <emphasis>osmium::Way</emphasis> osztály leszármazottja az <emphasis>osmium::OSMEntity</emphasis> absztrakt ősosztálynak.
                        <programlisting language="C++">
<![CDATA[
const osmium::Way& way = static_cast<const osmium::Way&>(item);
]]>
                        </programlisting>
                    </para>
                    <para>
                        A get_value_by_key függvénnyel az út cimkéinek listájából lekérdezi
                        a paraméterként megadott kulcshoz tartozó értéket.
                        Ha nem létezik az adott kulcs a címkék listájában, akkor <emphasis>nullptr</emphasis>-t kapunk visszatérési értékként.
                        A <emphasis>"name"</emphasis> kulcs esetlegesen az utca nevét tartalmazza, a <emphasis>"highway"</emphasis> pedig az út típusát.
                        <programlisting language="C++">
<![CDATA[
const char* name = way.get_value_by_key("name");
const char* highway = way.get_value_by_key("highway");
]]>
                        </programlisting>
                    </para>
                    <para>
                        Ha mindkét érték létezik, azaz nem nullpointerek,
                        akkor kiiratjuk a standard kimenetre az utca nevét és a felhasználót,
                        aki felvitte vagy utoljára módosította az utat az adatbázisban.
                        <programlisting language="C++">
<![CDATA[
if (name && highway)
  std::cout << "[" << way.user() << "] " << name << std::endl;
]]>
                        </programlisting>
                    </para>
                    <para>
                        A példaprogram fordításához létrehozuk egy CMake-es projektet.
                        A libosmium biztosítja számunkra a
                        <emphasis>FindOsmium.cmake</emphasis> és <emphasis>FindOSMPBF.cmake</emphasis> modulokat,
                        amik a <emphasis>cmake</emphasis> mappában találhatóak.
                        Ezek segítségével találja meg a cmake a libosmium header állományait és
                        állítja be a megadott komponensekhez a szükséges könyvtárakat.
                        Az Osmium <emphasis>io</emphasis> komponenséhez szükséges könyvtárak:
                        OSMPBF, Protobuf, ZLIB, Threads, EXPAT, BZip2.
                        Az OSMPBF könyvtár megtalálásában a <emphasis>FindOSMPBF.cmake</emphasis> modul segít.
                    </para>
                    <para>
                        A <emphasis>CMakeLists.txt</emphasis> állomány a következő:
                        <programlisting language="make">
                            <textobject>
                                <textdata fileref="src/utcak/CMakeLists.txt"/>
                            </textobject>
                        </programlisting>
                    </para>
                    <para>
                        Fordítás:
                        <screen>
<![CDATA[
andras@G53SW:~/Programs/utcak$ mkdir build
andras@G53SW:~/Programs/utcak$ cd build/
andras@G53SW:~/Programs/utcak/build$ cmake ..
-- The C compiler identification is GNU 4.9.2
-- The CXX compiler identification is GNU 4.9.2
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Found OSMIUM: /usr/local/include  
-- Found OSMPBF: /usr/lib/libosmpbf.a  
-- Looking for include file pthread.h
-- Looking for include file pthread.h - found
-- Looking for pthread_create
-- Looking for pthread_create - not found
-- Looking for pthread_create in pthreads
-- Looking for pthread_create in pthreads - not found
-- Looking for pthread_create in pthread
-- Looking for pthread_create in pthread - found
-- Found Threads: TRUE  
-- Found PROTOBUF: /usr/lib/x86_64-linux-gnu/libprotobuf.so  
-- Found ZLIB: /usr/lib/x86_64-linux-gnu/libz.so (found version "1.2.8") 
-- Found EXPAT: /usr/lib/x86_64-linux-gnu/libexpat.so (found version "2.1.0") 
-- Found BZip2: /usr/lib/x86_64-linux-gnu/libbz2.so (found version "1.0.6") 
-- Looking for BZ2_bzCompressInit in /usr/lib/x86_64-linux-gnu/libbz2.so
-- Looking for BZ2_bzCompressInit in /usr/lib/x86_64-linux-gnu/libbz2.so - found
-- Configuring done
-- Generating done
-- Build files have been written to: /home/andras/Programs/utcak/build
andras@G53SW:~/Programs/utcak/build$ make
Scanning dependencies of target utcak
[100%] Building CXX object CMakeFiles/utcak.dir/utcak.cpp.o
Linking CXX executable utcak
[100%] Built target utcak
]]>
                        </screen>
                    </para>
                    <para>
                        Futtatás:
                        <screen>
<![CDATA[
andras@G53SW:~/Programs/utcak/build$ ./utcak ~/debrecen.osm
[CarstenG] Oláh Gábor utca (residential)
[madar] Martinovics utca (residential)
[SzPaula] Besze János utca (residential)
[DonTomika] Simonyi utca (residential)
[DonTomika] Doberdó utca (residential)
[papesz] Bethlen utca (residential)
[Kolesár] Békessy Béla utca (residential)
[DonTomika] Nyíl utca (primary)
...
]]>
                        </screen>
                    </para>
                </section>
                <section>
                    <title>Buszjáratok megállóinak kilistázása</title>
                    <para>
                        A második példaprogram Debrecen buszjáratait listázza ki,
                        buszjáratonként a megállók nevét, földrajzi koordinátáit és a felhasználó nevét,
                        aki felvitte vagy utoljára módosította az objektumot.
                        A tejes program leklónozható a következő git repóból:
                        <link xlink:href="https://bitbucket.org/mamenyaka/buszjarat">https://bitbucket.org/mamenyaka/buszjarat</link>
                    </para>
                    <para>
                        Az buszjarat.cpp forrása:
                        <programlisting language="C++">
                            <textobject>
                                <textdata fileref="src/buszjarat/buszjarat.cpp"/>
                            </textobject>
                        </programlisting>
                    </para>
                    <para>
                        Fordítás:
                        <screen>
<![CDATA[
andras@G53SW:~/Programs/buszjarat$ mkdir build
andras@G53SW:~/Programs/buszjarat$ cd build/
andras@G53SW:~/Programs/buszjarat/build$ cmake ..
-- The C compiler identification is GNU 4.9.2
-- The CXX compiler identification is GNU 4.9.2
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Found OSMIUM: /usr/local/include  
-- Found OSMPBF: /usr/lib/libosmpbf.a  
-- Looking for include file pthread.h
-- Looking for include file pthread.h - found
-- Looking for pthread_create
-- Looking for pthread_create - not found
-- Looking for pthread_create in pthreads
-- Looking for pthread_create in pthreads - not found
-- Looking for pthread_create in pthread
-- Looking for pthread_create in pthread - found
-- Found Threads: TRUE  
-- Found PROTOBUF: /usr/lib/x86_64-linux-gnu/libprotobuf.so  
-- Found ZLIB: /usr/lib/x86_64-linux-gnu/libz.so (found version "1.2.8") 
-- Found EXPAT: /usr/lib/x86_64-linux-gnu/libexpat.so (found version "2.1.0") 
-- Found BZip2: /usr/lib/x86_64-linux-gnu/libbz2.so (found version "1.0.6") 
-- Looking for BZ2_bzCompressInit in /usr/lib/x86_64-linux-gnu/libbz2.so
-- Looking for BZ2_bzCompressInit in /usr/lib/x86_64-linux-gnu/libbz2.so - found
-- Looking for sys/types.h
-- Looking for sys/types.h - found
-- Looking for stdint.h
-- Looking for stdint.h - found
-- Looking for stddef.h
-- Looking for stddef.h - found
-- Check size of google::sparsetable<int>::size_type
-- Check size of google::sparsetable<int>::size_type - done
-- Configuring done
-- Generating done
-- Build files have been written to: /home/andras/Programs/buszjarat/build
andras@G53SW:~/Programs/buszjarat/build$ make
Scanning dependencies of target buszjarat
[100%] Building CXX object CMakeFiles/buszjarat.dir/buszjarat.cpp.o
Linking CXX executable buszjarat
[100%] Built target buszjarat
]]>
                        </screen>
                    </para>
                    <para>
                        Futtatás:
                        <screen>
<![CDATA[
andras@G53SW:~/Programs/buszjarat/build$ ./buszjarat ~/debrecen.osm 
[Zotya] 10 (IT Services Hungary Kft. -> Nagyállomás, toronyház)
  [flaktack] IT Services Hungary Kft. (21.5883,47.5559)
  [flaktack] Vezér utca (21.5978,47.5557)
  [flaktack] Nyék utca (21.6009,47.5556)
  [flaktack] Árpád Vezér Általános Iskola (21.6075,47.5561)
  [flaktack] Doberdó utca (21.611,47.5572)
  [flaktack] Sportkollégium (21.6156,47.5568)
  [BettiD] Auguszta (21.6233,47.5612)
  [flaktack] Pallagi út (21.6305,47.5609)
  [flaktack] Szociális Otthon (21.6305,47.5568)
  [flaktack] Klinikák (21.6282,47.5562)
  [BettiD] Egyetem tér (21.6215,47.5506)
  [BettiD] Nagy Lajos Király tér (21.6217,47.5456)
  [wheelmap_visitor] Egyetem sugárút (21.6218,47.5409)
  [wheelmap_visitor] Honvéd utca (21.6219,47.5372)
  [flaktack] Jókai utca (21.6205,47.5327)
  [flaktack] Pásti utca (21.6179,47.5303)
  [DonTomika] Segner tér (21.6127,47.5289)
  [DonTomika] Helyközi autóbusz-állomás (21.6188,47.5265)
  [flaktack] Kistemplom (21.6255,47.5283)
  [flaktack] Petőfi tér (21.6267,47.523)
  [flaktack] Nagyállomás, toronyház (21.6271,47.5211)

...
]]>
                        </screen>
                    </para>
                </section>
            </section>
            <section>
                <title>A Robotautó Világbajnokság platformja</title>
                <para>
                </para>
                <section>
                    <title>A Justine gyors prototípus</title>
                    <para>
                    </para>
                </section>
            </section>
        </section>
        <section>
            <title>Saját fejlesztés</title>
            <para>
            </para>
            <section>
                <title>A kiválasztott probléma</title>
                <para>
                </para>
            </section>
            <section>
                <title>Módszertan, a szoftverfolyamat tervezése</title>
                <para>
                    A választott módszertan vázolása, a dokumentálás meghatározása (például agilisen, tipikusan a
                    forrásokból doxygen stb.)
                </para>
            </section>
            <section>
                <title>Tervezés</title>
                <para>
                    Koncepció, vízió.
                </para>
                <section>
                    <title>Szemelvények az SRS-ből</title>
                    <para>
                    </para>
                </section>
            </section>
            <section>
                <title>Fejlesztés</title>
                <para>
                </para>
                <section>
                    <title>Felhasznált szoftver eszközök</title>
                    <para>
                        Licenc-kompatibilitás stb.
                    </para>
                </section>
                <section>
                    <title>A fejlesztés mérföldkövei</title>
                    <para>
                        Szoftver kiadások, stb.
                    </para>
                </section>
                <section>
                    <title>Szoftver eredmények</title>
                    <para>
                        Kitérve a használatra, felületre.
                    </para>
                </section>
            </section>
            <section>
                <title>Tesztelés</title>
                <para>
                    A tesztelés bemutatása.
                </para>
            </section>
        </section>
    </section>
    <section>
        <title>Befejezés</title>
        <section>
            <title>Összegzés</title>
            <para>
            </para>
        </section>
        <section>
            <title>Továbbfejlesztési tervek és lehetőségek</title>
            <para>
            </para>
        </section>
    </section>
    <section>
        <title>Köszönet</title>
        <para>
            Hálával tartozom dr. Bátfai Norbert témavezetőmnek, aki a dolgozat megírásához hasznos tanácsaival, jó ötleteivel és odafigyelésével járult hozzá.
        </para>
    </section>
    <bibliography>
        <title>Irodalomjegyzék</title>
        <biblioentry>
            <abbrev>OSMstats</abbrev>
            <title>OpenStreetMap stats</title>
            <publisher>
                <publishername>
                    <link xlink:href="http://www.openstreetmap.org/stats/data_stats.html">http://www.openstreetmap.org/stats/data_stats.html</link>                    
                </publishername>
            </publisher>
        </biblioentry>
        <biblioentry>
            <abbrev>GWI</abbrev>
            <title>Top global smartphone apps, who’s in the top 10</title>
            <publisher>
                <publishername>
                    GlobalWebIndex,
                    <link xlink:href="http://www.globalwebindex.net/blog/top-global-smartphone-apps">http://www.globalwebindex.net/blog/top-global-smartphone-apps</link>                    
                </publishername>
            </publisher>
            <pubdate>2013</pubdate>
        </biblioentry>
        <biblioentry>
            <abbrev>BingAerial</abbrev>
            <title>Microsoft Bing Maps Imagery Service Editor Application API's Terms Of Use</title>
            <publisher>
                <publishername>
                    <link xlink:href="https://wiki.openstreetmap.org/w/images/d/d8/Bing_license.pdf">https://wiki.openstreetmap.org/w/images/d/d8/Bing_license.pdf</link>
                </publishername>
            </publisher>
            <pubdate>2010</pubdate>
        </biblioentry>
    </bibliography>
</article>
